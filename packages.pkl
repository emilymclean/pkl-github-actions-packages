class Package {
    name: String
    version: String = "1.0.0"
    deprecated: Boolean = false

    hidden fixed nameComponents = name.split("/")

    fixed artifactName = "package_\(name.replaceAll("/", "_"))"
    fixed shaArtifactName = "sha_\(name.replaceAll("/", "_"))"
    fixed shaDownloadName = "\(nameComponents.last).sha"
    fixed packageName = "\(nameComponents.last)@\(version)"
    fixed buildPath = ".out/\(name)@\(version)/"
    fixed outputPath = "\(nameComponents.take(nameComponents.length - 1).join("/"))/"

    fixed repository = nameComponents.take(2).join("/").takeWhile((x) -> x != "@")
    fixed ref = nameComponents.last.split("@")[1]
}

package = new Listing<Package> {
    new Package {
        name = "actions/checkout@v4"
    }
    new Package {
        name = "actions/upload-artifact@v4"
    }
    new Package {
        name = "actions/download-artifact@v4"
    }
    new Package {
        name = "gittools/actions/gitversion/setup@v3.0.0"
    }
    new Package {
        name = "gittools/actions/gitversion/execute@v3.0.0"
    }
    new Package {
        name = "pkl-community/setup-pkl@v0"
    }
    new Package {
        name = "docker/build-push-action@v4"
    }
    new Package {
        name = "docker/setup-qemu-action@v3"
    }
    new Package {
        name = "docker/setup-buildx-action@v3"
    }
    new Package {
        name = "docker/login-action@v3"
    }
    new Package {
        name = "emilymclean/pack-chromium-extension-action@v1"
    }
    new Package {
        name = "emilymclean/openscad-build-action@v1"
    }
    new Package {
        name = "emilymclean/pkldoc-action@v2"
    }
    new Package {
        name = "emilymclean/pkl-swift-action@v2"
    }
    new Package {
        name = "emilymclean/pkl-kotlin-action@v2"
    }
    new Package {
        name = "emilymclean/pkl-data-action@v2"
    }
    new Package {
        name = "emilymclean/pkl-java-action@v2"
    }
    new Package {
        name = "emilymclean/kicad-bom@v2"
    }
    new Package {
        name = "emilymclean/kicad-pdf@v1"
    }
    new Package {
        name = "emilymclean/kicad-gerber@v2"
    }
}