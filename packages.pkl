class Package {
    name: String
    version: String = "1.0.0"
    deprecated: Boolean = false

    hidden fixed nameComponents = name.split("/")

    fixed artifactName = "package_\(name.replaceAll("/", "_"))"
    fixed shaArtifactName = "sha_\(name.replaceAll("/", "_"))"
    fixed packageName = "\(nameComponents.last)@\(version)"
    fixed buildPath = ".out/\(name)@\(version)/"
    fixed outputPath = "\(nameComponents.take(nameComponents.length - 1).join("/"))/"

    fixed repository = nameComponents.take(2).join("/").takeWhile((x) -> x != "@")
    fixed ref = nameComponents.last.split("@")[1]
}

package = new Listing<Package> {
    new Package {
        name = "actions/checkout@v4"
    }
    new Package {
        name = "actions/upload-artifact@v4"
    }
    new Package {
        name = "actions/download-artifact@v4"
    }
    new Package {
        name = "gittools/actions/gitversion/setup@v3.0.0"
    }
    new Package {
        name = "gittools/actions/gitversion/execute@v3.0.0"
    }
    new Package {
        name = "pkl-community/setup-pkl@v0"
    }
}